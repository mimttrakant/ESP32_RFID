<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>RFID Dashboard</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyDAB992i3lVXK-NHH5fWZFSJD2KO6ZphwE",
  databaseURL: "https://esp32rfid-d4ddb-default-rtdb.firebaseio.com",
  projectId: "esp32rfid-d4ddb"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

const attendanceRef = ref(db, "attendance");

onValue(attendanceRef, (snapshot) => {
  const data = snapshot.val();
  const table = document.getElementById("tableBody");
  table.innerHTML = "";

  for (let uid in data) {
    table.innerHTML += `
      <tr>
        <td>${uid}</td>
        <td>${data[uid].name}</td>
        <td>${data[uid].checkin}</td>
        <td>${data[uid].checkout}</td>
        <td>${data[uid].status}</td>
      </tr>`;
  }
});
</script>
</head>

<body class="bg-light">
<div class="container mt-4">
<h3 class="text-center">üìä RFID Dashboard</h3>

<table class="table table-bordered text-center mt-3">
<thead class="table-dark">
<tr>
<th>UID</th>
<th>‡∏ä‡∏∑‡πà‡∏≠</th>
<th>‡πÄ‡∏Ç‡πâ‡∏≤</th>
<th>‡∏≠‡∏≠‡∏Å</th>
<th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
</tr>
</thead>
<tbody id="tableBody"></tbody>
</table>
</div>
</body>
</html>